<!DOCTYPE html>
<html>
  <head>
    <!-- AdSense -->
    <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-4251360406988977",
        enable_page_level_ads: true
      });
    </script>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>WasapiProcedure </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="WasapiProcedure <small>Delegate</small>
 ">
    
    <link rel="shortcut icon" href="https://github.com/ManagedBass.png" type="image/x-icon">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/solarized_light.min.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:tocrel" content="toc.html">
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        <!-- Navbar -->
        <nav class="navbar navbar-inverse">
          <div class="container-fluid">
            <div class="navbar-header">
              <span class="navbar-brand">ManagedBass</span>
            </div>
          </div>
        </nav>
      </header>
      <div role="main" class="container-fluid body-content">
        <div class="sidenav">
          <a class="text-center toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-9" id="articleContainer">
            <div id="selector"></div>
            <article class="content wrap" id="_content">
              
              <div class="contributionPanel">
              </div>
              
              <h1 id="" data-uid="ManagedBass.Wasapi.WasapiProcedure">WasapiProcedure <small>Delegate</small>
              </h1>
              <div class="markdown level0 summary"><p>User defined WASAPI output/input processing callback function (to be used with <a class="xref" href="ManagedBass.Wasapi.BassWasapi.html">Init(Int32, Int32, Int32, WasapiInitFlags, Single, Single, WasapiProcedure, IntPtr)</a>).</p>
</div>

              
              <h6><strong>Namespace</strong>: ManagedBass.Wasapi</h6>
              <!--<h6><strong>Package</strong>: <a href="http://nuget.org/packages/cs.temp.dll">cs.temp.dll</a></h6>-->
              <h5 id="_syntax">Syntax</h5>
              <div class="codewrapper">
                <pre><code class="lang-csharp hljs">public delegate int WasapiProcedure(IntPtr Buffer, int Length, IntPtr User);</code></pre>
              </div>
              <h5 class="parameters">Parameters</h5>
              <table class="table table-bordered table-striped table-condensed">
                <tbody>
                  <tr>      
                    <td>
                      <em>Buffer</em>
                      <div class="pull-right"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.intptr(v=vs.110).aspx">IntPtr</a></div>        
                      <p class="padTop"><p>Pointer to the buffer to put the sample data for an output device, or to get the data from an input device. The sample data is always 32-bit floating-point.</p>
</p>
                    </td>
                  </tr>
                  <tr>      
                    <td>
                      <em>Length</em>
                      <div class="pull-right"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.int32(v=vs.110).aspx">Int32</a></div>        
                      <p class="padTop"><p>The number of bytes to process.</p>
</p>
                    </td>
                  </tr>
                  <tr>      
                    <td>
                      <em>User</em>
                      <div class="pull-right"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.intptr(v=vs.110).aspx">IntPtr</a></div>        
                      <p class="padTop"><p>The user instance data given when <a class="xref" href="ManagedBass.Wasapi.BassWasapi.html">Init(Int32, Int32, Int32, WasapiInitFlags, Single, Single, WasapiProcedure, IntPtr)</a> was called.</p>
</p>
                    </td>
                  </tr>
                </tbody>
              </table>
              <h5 class="returns">Returns</h5>
              <table class="table table-bordered table-striped table-condensed">
                <tbody>
                  <tr>
                    <td>
                      <a class="xref" href="https://msdn.microsoft.com/en-us/library/system.int32(v=vs.110).aspx">Int32</a>
                      <p class="padTop"><p>In the case of an output device, the number of bytes written to the buffer. In the case of an input device, 0 = stop the device, else continue.</p>
</p>
                    </td>
                  </tr>
                </tbody>
              </table>
              <h5 id="_remarks"><strong>Remarks</strong></h5>
              <div class="markdown level0 remarks"><p>
An output/input processing function should obviously be as quick as possible, to avoid buffer underruns (output) or overruns (input).
Using a larger buffer makes that less crucial.
<a class="xref" href="ManagedBass.Wasapi.BassWasapi.html">GetData(IntPtr, Int32)</a> (<a class="xref" href="ManagedBass.DataFlags.html">Available</a>) can be used to check how much data is buffered.
</p>
<p>
An output device&#39;s <a class="xref" href="ManagedBass.Wasapi.WasapiProcedure.html">WasapiProcedure</a> may return less data than requested, but be careful not to do so by too much, too often.
If the buffer gets exhausted, output will stall until more data is provided.
If you do return less than the requested amount of data, the number of bytes should still equate to a whole number of samples.
</p>
<p>
When multiple channels are used, the sample data of the channels is interleaved.
For example, with 2 channels (ie. stereo), the sample data would be arranged as channel 1, channel 2, channel 1, channel 2, channel 1, etc.
</p>
<p>When an output channel needs to be empty/silent but still enabled, the channel&#39;s function could fill the buffer with 0s to achieve that.</p>
<p>Do not call <a class="xref" href="ManagedBass.Wasapi.BassWasapi.html">Free()</a> from within a callback function.</p>
<p>
Prior to calling this function, BassWasapi will set the thread&#39;s device context to the device that the channel belongs to.
So when using multiple devices, <a class="xref" href="ManagedBass.Wasapi.BassWasapi.html">CurrentDevice</a> can be used to determine which device the channel is on.
</p>
<p>
It is not supported to change the <a class="xref" href="ManagedBass.Wasapi.WasapiProcedure.html">WasapiProcedure</a> once a device was initialized via <a class="xref" href="ManagedBass.Wasapi.BassWasapi.html">Init(Int32, Int32, Int32, WasapiInitFlags, Single, Single, WasapiProcedure, IntPtr)</a>.
If you need to change some internal processing logic during processing, you might use some kind of &quot;if&quot; statements within this callback procedure.
</p>
</div>
              <div class="markdown level0 conceptual"></div>
              
            </article>
          </div>
          <!-- Affix -->
          <div class="hidden-sm col-md-3" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            </nav>
          </div>
        </div>
      </div>

      <a href="#" class="fab back-to-top"><i class="glyphicon glyphicon-menu-up"></i></a>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-url/1.8.6/url.min.js"></script>

    <script src="../styles/docfx.js"></script>
    <script src="../styles/main.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>
