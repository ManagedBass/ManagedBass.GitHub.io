<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Delegate EncodeClientProcedure
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Delegate EncodeClientProcedure
   ">
    <meta name="generator" content="docfx 2.17.4.2">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="ManagedBass.Enc.EncodeClientProcedure">
  <h1 id="ManagedBass_Enc_EncodeClientProcedure" data-uid="ManagedBass.Enc.EncodeClientProcedure">Delegate EncodeClientProcedure
  </h1>
  <div class="markdown level0 summary"><p>User defined callback function to receive notification of client connections and disconnections, and optionally refuse connections.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  
  
  
  
  <h6><strong>Namespace</strong>: ManagedBass.Enc</h6>
  <h6><strong>Assembly</strong>: ManagedBass.Enc.dll</h6>
  
  <h5 id="ManagedBass_Enc_EncodeClientProcedure_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public delegate bool EncodeClientProcedure(int Handle, bool Connect, string Client, IntPtr Headers, IntPtr User);</code></pre>
  </div>
  
  <h5 class="parameters">Parameters</h5>
  <table>
    <tr>
      <td>
        <span class="pull-right"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.int32(v=vs.110).aspx">Int32</a></span>
        <span class="parametername">Handle</span>
        <p><p>The encoder/server that the client is connecting to or disconnecting from.</p>
</p>
      </td>
    </tr>
    <tr>
      <td>
        <span class="pull-right"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.boolean(v=vs.110).aspx">Boolean</a></span>
        <span class="parametername">Connect</span>
        <p><p>The client is connecting? true = connecting, false = disconnecting.</p>
</p>
      </td>
    </tr>
    <tr>
      <td>
        <span class="pull-right"><a class="xref" href="https://msdn.microsoft.com/en-us/library/system.string(v=vs.110).aspx">String</a></span>
        <span class="parametername">Client</span>
        <p><p>The client&#39;s IP address and port number... &quot;IP:port&quot;.</p>
</p>
      </td>
    </tr>
    <tr>
      <td>
        <span class="pull-right"><span class="xref">IntPtr</span></span>
        <span class="parametername">Headers</span>
        <p><p>The request headers... <span class="xref">null</span> = the client is disconnecting or HTTP headers have been disabled via the <a class="xref" href="ManagedBass.Enc.EncodeServer.html#ManagedBass_Enc_EncodeServer_NoHTTP">NoHTTP</a> flag.
The headers are in the same form as would be given by <a class="xref" href="ManagedBass.Bass.html#ManagedBass_Bass_ChannelGetTags_System_Int32_ManagedBass_TagType_">ChannelGetTags(Int32, TagType)</a>, which is a series of null-terminated strings, the final string ending with a double null.
The request headers can optionally be replaced with response headers to send back to the client, each ending with a carriage return and line feed (&quot;\r\n&quot;).
The response headers should not exceed 1KB in length.</p>
</p>
      </td>
    </tr>
    <tr>
      <td>
        <span class="pull-right"><span class="xref">IntPtr</span></span>
        <span class="parametername">User</span>
        <p><p>The user instance data given when <a class="xref" href="ManagedBass.Enc.BassEnc.html#ManagedBass_Enc_BassEnc_ServerInit_System_Int32_System_String_System_Int32_System_Int32_ManagedBass_Enc_EncodeServer_ManagedBass_Enc_EncodeClientProcedure_IntPtr_">ServerInit(Int32, String, Int32, Int32, EncodeServer, EncodeClientProcedure, IntPtr)</a> was called.</p>
</p>
      </td>
    </tr>
  </table>
  
  <h5 class="returns">Returns</h5>
  <table>
    <tr>
      <td>
        <a class="xref" href="https://msdn.microsoft.com/en-us/library/system.boolean(v=vs.110).aspx">Boolean</a>
        <p><p>If the client is connecting, <span class="xref">false</span> means the connection is denied, otherwise it is accepted. The return value is ignored if the client is disconnecting.</p>
</p>
      </td>
    </tr>
  </table>
  
  
  <h5 id="ManagedBass_Enc_EncodeClientProcedure_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>
This function can be used to keep track of how many clients are connected, and who is connected.
The request headers can be used to authenticate clients, and response headers can be used to pass information back to the clients.
By default, connecting clients will be sent an &quot;HTTP/1.0 200 OK&quot; status line if accepted, and an &quot;HTTP/1.0 403 Forbidden&quot; status line if denied.
That can be overridden in the first response header.
</p>
<p>Disconnection notifications will be received for clients that have disconnected themselves or that have been kicked by <a class="xref" href="ManagedBass.Enc.BassEnc.html#ManagedBass_Enc_BassEnc_ServerKick_System_Int32_System_String_">ServerKick(Int32, String)</a>, but there will no notification of any clients that are disconnected by the encoder being freed.</p>
<p>Each server has its own thread that handles new connections and sends data to its clients. The notification callbacks also come from that thread, so the callback function should avoid introducing long delays as that could result in clients missing some data and delay other clients connecting.</p>
<p>
Use <a class="xref" href="ManagedBass.Extensions.html#ManagedBass_Extensions_ExtractMultiStringAnsi_IntPtr_">ExtractMultiStringAnsi(IntPtr)</a> to get the <span class="paramref">Headers</span>.
</p>
</div>
  
  
  
</article>
          </div>
          <div class="contribution-panel mobile-hide">
              <a href="https://github.com/ManagedBass/ManagedBass/new/master/apiSpec/new?filename=ManagedBass_Enc_EncodeClientProcedure.md&amp;value=---%0Auid%3A%20ManagedBass.Enc.EncodeClientProcedure%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" title="Improve this Doc" class="fab btn-warning pull-right"><i class="glyphicon glyphicon-pencil"></i></a>
              <a href="https://github.com/ManagedBass/ManagedBass/blob/master/src/AddOns/BassEnc/Shared/Delegates/EncodeClientProcedure.cs/#L32" title="View Source" class="fab btn-info pull-right"><i class="fa fa-code"></i></a>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Copyright &copy; 2017 Mathew Sachin<br>Generated by DocFx
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
